# BeoSound 5c Configuration
# Copy to /etc/beosound5c/config.env and customize for your deployment

# =============================================================================
# REQUIRED: You must configure these for your setup
# =============================================================================

# Location identifier (sent to Home Assistant webhooks)
# This identifies your BeoSound 5c unit in Home Assistant automations
DEVICE_NAME="Living Room"

# Home Assistant base URL (used by web interface)
# Format: http://<HA_HOST>:8123
HA_URL="http://homeassistant.local:8123"

# Home Assistant webhook URL for BeoSound 5c events
# Format: http://<HA_HOST>:8123/api/webhook/<WEBHOOK_ID>
HA_WEBHOOK_URL="http://homeassistant.local:8123/api/webhook/beosound5c"

# Home Assistant dashboard for SECURITY page (without leading slash)
# Example: "lovelace-cameras/0" or "dashboard-cameras/home"
HA_SECURITY_DASHBOARD="dashboard-cameras/home"

# Home Assistant Long-Lived Access Token (for Apple TV status)
# Create at: HA → Profile → Long-Lived Access Tokens → Create Token
HA_TOKEN=""

# Sonos speaker IP address
# Find in Sonos app: Settings → System → About My System
SONOS_IP="192.168.1.100"

# =============================================================================
# OPTIONAL: Hardware-specific configuration
# =============================================================================

# Bluetooth device name (how this device appears to other Bluetooth devices)
# Default: "BeoSound 5c", or add location e.g. "BeoSound 5c Kitchen"
BT_DEVICE_NAME="BeoSound 5c"

# BeoRemote One Bluetooth MAC address (only needed if using Bluetooth remote)
# Find with: bluetoothctl → scan on → look for "BeoRemote One"
BEOREMOTE_MAC="00:00:00:00:00:00"

# Spotify Integration (only needed for Spotify playlists)
# Setup: Run 'python3 ~/beosound5c/tools/spotify/setup_spotify.py'
# (Requires creating a Spotify app at developer.spotify.com first)
SPOTIFY_CLIENT_ID=""
SPOTIFY_CLIENT_SECRET=""
SPOTIFY_REFRESH_TOKEN=""

# =============================================================================
# TRANSPORT: How BeoSound 5c communicates with Home Assistant
# =============================================================================

# Transport mode: webhook (HTTP POST), mqtt, or both
TRANSPORT_MODE="webhook"

# MQTT broker settings (only needed if TRANSPORT_MODE includes mqtt)
MQTT_BROKER="homeassistant.local"
MQTT_PORT="1883"
MQTT_USER=""
MQTT_PASSWORD=""

# =============================================================================
# AUDIO OUTPUT: Where sound comes out
# =============================================================================

# Display name for the output (shown in the UI volume overlay)
OUTPUT_NAME="BeoLab 5"

# Volume control type: "esphome", "sonos", "powerlink", "hdmi", or "spdif"
#   esphome   - Controls volume via ESPHome REST API (e.g., BeoLab 5 ESP32 controller)
#   sonos     - Controls volume directly on the Sonos speaker
#   powerlink - Controls B&O speakers via masterlink.py mixer HTTP API (PC2 USB PowerLink)
#   hdmi      - HDMI1 audio output with ALSA software volume
#   spdif     - S/PDIF HAT (e.g. InnoMaker Digi One) with ALSA software volume
VOLUME_TYPE="esphome"

# Volume target host
#   For esphome: hostname of the ESP32 controller (e.g., beolab5-controller.local)
#   For sonos: IP of the Sonos speaker (same as SONOS_IP typically)
#   For powerlink: hostname running masterlink.py (default: localhost)
#   For hdmi/spdif: not used (local ALSA)
VOLUME_HOST="beolab5-controller.local"

# Maximum volume percentage (0-100). Volume commands are capped at this value.
VOLUME_MAX="70"

# Mixer HTTP API port (powerlink only). masterlink.py serves mixer control here.
# MIXER_PORT="8768"

# ALSA card/control override (hdmi and spdif only)
#   hdmi default:  card=vc4hdmi1, control=Playback
#   spdif default: card=sndrpihifiberry, control=Playback
#   (spdif requires dtoverlay=hifiberry-digi in /boot/firmware/config.txt)
# ALSA_CARD="vc4hdmi1"
# ALSA_CONTROL="Playback"

# =============================================================================
# ADVANCED: Base paths (usually don't need to change these)
# =============================================================================

# USB Music paths (comma-separated directories for local file browsing)
USB_MUSIC_PATHS="/mnt/usb-music"

# Base path for BeoSound 5c installation
BS5C_BASE_PATH="/home/kirsten/beosound5c"
